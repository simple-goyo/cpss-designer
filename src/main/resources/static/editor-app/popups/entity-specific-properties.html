<div class="modal" ng-controller="EntitySpecificPropertiesController">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">&times;
                </button>
                <h2>设置{{resName}}的特定属性</h2>
            </div>
            <hr>
            <div class="modal-body" id="sceneSetting">

                <div ng-if="bindDynamically!==true" ng-repeat-start="(id,value) in properties" class="row"
                     style="margin-top: 3%">
                    <label for="{{id}}" class="col-xs-3" style="float: left">{{id}}</label>
                    <input ng-model="properties[id].text" class="col-xs-9" style="border-radius: 5px;float:left"
                           placeholder="请输入{{id}}" id="{{id}}">
                </div>
                <div ng-repeat-end></div>

                <div ng-if="bindDynamically===true" ng-repeat-start="(id,value) in properties" class="row"
                     style="margin-top: 3%">
                    <label class="col-xs-2" style="float: left">{{id}}</label>
                    <select class="col-xs-3" style="border-radius: 5px;float:left;margin-right: 5px"
                            ng-model="properties[id].rule">
                        <option value="" selected>请选择规则</option>
                        <option ng-repeat="rule in rules" value="{{rule}}" ng-selected="value.rule===rule">{{rule}}
                        </option>
                    </select>
                    <select class="col-xs-2" ng-model="properties[id].type"
                            style="border-radius: 5px;float:left;margin-right: 5px">
                        <option value="entity">实体</option>
                        <option value="data">数据</option>
                    </select>
                    <select ng-if="properties[id].type==='data'" class="col-xs-4" style="border-radius: 5px;float:left"
                            ng-model="properties[id].data">
                        <option value="" selected>请选择目标字段</option>
                        <option ng-repeat="ele in data" value="{{ele.name}}" ng-selected="ele.name===value.data">
                            {{ele.name}}
                        </option>
                    </select>
                    <select ng-if="properties[id].type==='entity'" class="col-xs-4"
                            style="border-radius: 5px;float:left"
                            ng-model="properties[id].entity">
                        <option value="" selected>请选择目标实体</option>
                        <option ng-repeat="entity in entities"
                                value="{{entity}}" ng-selected="entity.id===value.entity.id">{{entity.name}}:{{entity.id}}
                        </option>
                    </select>
                </div>
                <div ng-repeat-end></div>
                <div>
                    <label>
                        <input type="radio" ng-model="bindDynamically" ng-value="true">动态绑定
                    </label>
                    <label>
                        <input type="radio" ng-model="bindDynamically" ng-value="false">自主设定
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-click="close()" class="btn btn-primary" translate>ACTION.CANCEL</button>
                <button type="submit" ng-click="save()" class="btn btn-primary" translate>ACTION.SAVE</button>
            </div>
        </div>
    </div>
</div>
